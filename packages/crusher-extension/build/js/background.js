/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={8541:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3490),i=r(9849),a=n(r(5790)),s=r(1008),h=r(6096),u=r(3094);(new(function(){function e(){this.handleBrowserIconClick=this.handleBrowserIconClick.bind(this),this.onTabUpdated=this.onTabUpdated.bind(this),this.onTabRemoved=this.onTabRemoved.bind(this),this.onBeforeRequest=this.onBeforeRequest.bind(this),this.onHeadersReceived=this.onHeadersReceived.bind(this),this.onBeforeSendHeaders=this.onBeforeSendHeaders.bind(this),this.onBeforeNavigation=this.onBeforeNavigation.bind(this),this.onExternalMessage=this.onExternalMessage.bind(this)}return e.prototype.isRegisteredAsCrusherWindow=function(e){var t=o.TabStorage.get(e);return!(!t||!t.details.id)&&o.TabStorage.isExtension(t.details.id)},e.prototype.onTabRemoved=function(e){o.TabStorage.get(e)&&o.TabStorage.remove(e)},e.prototype.onTabUpdated=function(e,t,r){if(r.url&&s.AdvancedURL.checkIfCrusherExtension(r.url)){var n=s.AdvancedURL.getParameterByName("url",r.url),i=s.AdvancedURL.getUserAgentFromUrl(n);o.TabStorage.set(e,r,i?i.value:a.default[0].value)}},e.prototype.onBeforeRequest=function(e){return this.isRegisteredAsCrusherWindow(e.tabId)&&0===e.parentFrameId?(chrome.browsingData.remove({},{serviceWorkers:!0}),{cancel:!1}):{cancel:!1}},e.prototype.onHeadersReceived=function(e){var t=this.isRegisteredAsCrusherWindow(e.tabId),r=e.responseHeaders;if(!r||!t||0!==e.parentFrameId)return{responseHeaders:r};var n=r.filter((function(e){var t=e.name.toLowerCase();return-1===["x-frame-options","content-security-policy","frame-options"].indexOf(t)}));return r.find((function(e){return"location"===e.name.toLowerCase()}))&&chrome.browsingData.remove({},{serviceWorkers:!0}),{responseHeaders:n}},e.prototype.onBeforeSendHeaders=function(e){var t,r=this.isRegisteredAsCrusherWindow(e.tabId),n=e.requestHeaders;if(!r||0!==e.parentFrameId)return{requestHeaders:n};if(!i.FrameStorage.get(e.tabId,e.frameId))return{requestHeaders:e.requestHeaders};var a=o.TabStorage.get(e.tabId).crusherAgent;return null===(t=e.requestHeaders)||void 0===t||t.push({name:"User-Agent",value:a}),{requestHeaders:e.requestHeaders}},e.prototype.onBeforeNavigation=function(e){this.isRegisteredAsCrusherWindow(e.tabId)&&0!==e.frameId&&0===e.parentFrameId&&e.url&&i.FrameStorage.set(e)},e.prototype.onExternalMessage=function(e,t,r){return console.log("Got this message",e),e&&e.message&&"version"==e.message&&r({version:1}),!0},e.prototype.handleBrowserIconClick=function(e){var t=h.getDefaultDeviceFromDeviceType(u.DEVICE_TYPES.DESKTOP),r=h.generateCrusherExtensionUrl(chrome.extension.getURL("/"),e.url,t.id);chrome.tabs.create({url:r})},e.prototype.registerEventListeners=function(){chrome.browserAction.onClicked.addListener(this.handleBrowserIconClick),chrome.tabs.onUpdated.addListener(this.onTabUpdated),chrome.tabs.onRemoved.addListener(this.onTabRemoved),chrome.webRequest.onBeforeRequest.addListener(this.onBeforeRequest,{urls:["<all_urls>"]},["blocking"]),chrome.webRequest.onBeforeSendHeaders.addListener(this.onBeforeSendHeaders,{urls:["<all_urls>"],types:["sub_frame"]},["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.addListener(this.onHeadersReceived,{urls:["<all_urls>"],types:["sub_frame","main_frame"]},["blocking","responseHeaders"]),chrome.webNavigation.onBeforeNavigate.addListener(this.onBeforeNavigation),chrome.runtime.onMessageExternal.addListener(this.onExternalMessage)},e.prototype.boot=function(){this.registerEventListeners()},e}())).boot()},4114:function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getAllSeoMetaInfo=t.DOM=void 0;var i=function(){function e(){}return e.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},e.removeAllTargetBlankFromLinks=function(){var e,t,r=document.links;for(e=0,t=r.length;e<t;e++)"_blank"==r[e].target&&r[e].removeAttribute("target")},e.disableAllUserEvents=function(e){console.debug("Disabling all user events");for(var t=["contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","blur","change","focus","focusin","focusout","input","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","mousewheel","wheel","touchcancel","touchend","touchmove","touchstart"],r=Object.keys(e),n=function(t){return t.stopPropagation(),t.preventDefault(),r.includes(t.type)&&e[t.type](t),!1},o=0,i=t.length;o<i;o++)window.addEventListener(t[o],n,!0);return function(){for(var e=0,r=t.length;e<r;e++)window.removeEventListener(t[e],n,!0)}},e}();t.DOM=i,t.getAllSeoMetaInfo=function(){return o([],n(document.querySelectorAll("meta"))).reduce((function(e,t){var n,o=t&&"function"==typeof t.getAttribute?t.getAttribute("name"):null;return o?r(r({},e),((n={})[o]={name:o,value:t.content},n)):e}),{})}},9849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameStorage=void 0;var r={},n=function(){function e(){}return e.makeFrameId=function(e,t){return e+"-"+t},e.set=function(e){r[this.makeFrameId(e.tabId,e.frameId)]=e},e.get=function(e,t){return r[this.makeFrameId(e,t)]},e.has=function(e,t){var n=this.makeFrameId(e,t);return r[n]&&null!==r[n]},e}();t.FrameStorage=n},7916:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pxToRemValue=t.toPrettyEventName=t.toPascalCase=t.getFrameDepth=t.getDevice=t.getAllAttributes=t.submitPostDataWithForm=t.executeScript=void 0;var s=r(4114),h=a(r(1100));function u(e){var t;if(!e||"string"!=typeof e)return e;var r=null==e?void 0:e.toLowerCase();return(null===(t=r[0])||void 0===t?void 0:t.toUpperCase())+(null==r?void 0:r.substr(1))}t.executeScript=function(e,t,r){return new Promise((function(r,n){chrome.tabs.executeScript(t,{file:"/js/"+e+".js",runAt:"document_end"},(function(){r(!0)}))}))},t.submitPostDataWithForm=function(e,t){var r,o;void 0===t&&(t={});var i=document.createElement("form");i.method="post",i.action=e,i.target="_blank";var a=Object.keys(t);try{for(var s=n(a),h=s.next();!h.done;h=s.next()){var u=h.value,l=document.createElement("input");l.type="hidden",l.name=u,l.value=t[u],i.appendChild(l)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}document.body.appendChild(i),i.submit(),i.remove()},t.getAllAttributes=function(e){if(!s.DOM.isElement(e))throw new Error("Invalid element provided.");var t=e.getAttributeNames();return i([],o(t.map((function(t){return{name:t,value:e.getAttribute(t)}}))))},t.getDevice=function(e){return h.default.find((function(t){return t.id===e}))},t.getFrameDepth=function e(t){return t===window.top?0:t.parent===window.top?1:1+e(t.parent)},t.toPascalCase=u,t.toPrettyEventName=function(e){return e.split("_").map((function(e){return u(e)})).join(" ")},t.pxToRemValue=function(e){return e/16+"rem"}},3490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabStorage=void 0;var n=r(915),o={},i=function(){function e(){}return e.set=function(e,t,r){o[e]={details:t,crusherAgent:r}},e.get=function(e){return o[e]},e.isExtension=function(e){return!!this.get(e)&&n.isOfCrusherExtension(this.get(e).details.url)},e.remove=function(e){delete o[e]},e}();t.TabStorage=i},1008:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedURL=void 0;var o=n(r(1100)),i=r(915),a=r(7916),s=n(r(5790)),h=new RegExp(/^(['"])(.*)\1$/),u=function(){function e(){}return e.getScheme=function(e){return String(e).replace(/^\/|\/$/g,"")},e.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},e.addHttpToUrlIfNotThere=function(e){var t=new RegExp(/^https?\:\/\/[\w\._-]+?\.[\w_-]+/i);return e.match(t)?e:"http://"+e},e.checkIfCrusherExtension=function(e){return Boolean(e)&&this.getScheme(e).startsWith(this.getScheme(chrome.runtime.getURL("/")))},e.getUrlFromCrusherExtensionUrl=function(e){var t=i.getQueryStringParams("url",e);if(!t||h.test(t))return null;var r=t.match(h);return new URL(r?r[2]:t).toString()},e.getDeviceFromCrusherExtensionUrl=function(e){var t=i.getQueryStringParams("device",e),r=o.default[8];return t&&a.getDevice(t)||r},e.getUserAgentFromUrl=function(t){var r=e.getParameterByName("__crusherAgent__",t);return s.default.find((function(e){return e.name===(r||s.default[6].value)}))},e}();t.AdvancedURL=u},1100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:"iphoneXRXSMax",name:"iPhone XR, XSMax",width:414,height:896,visible:!0,mobile:!0,userAgent:"iPhone"},{id:"iPhone8Plus87Plus",name:"iPhone 8+, 8, 7+",width:414,height:736,mobile:!0,visible:!1,userAgent:"iPhone"},{id:"iPhone76S6",name:"iPhone 7, 6S, 6",width:375,height:667,mobile:!0,visible:!1,userAgent:"iPhone"},{id:"GalaxyS9PlusS8Plus",name:"Galaxy S9+, S8+",width:412,height:846,visible:!0,mobile:!0,userAgent:"Samsung Phone"},{id:"Pixel33XL",name:"Pixel 3, 3 XL",width:393,height:786,visible:!0,mobile:!0,userAgent:"Google Pixel"},{id:"GoogleChromeNormalScreen",name:"Desktop (1024 * 800)",width:1024,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeMediumScreen",name:"Desktop M (1280 * 800)",width:1280,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeLargeScreenL",name:"Desktop L (1440 * 800)",width:1440,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeLargeScreenXL",name:"Desktop XL (1600 * 800)",width:1600,height:800,visible:!0,userAgent:"Google Chrome"}]},5790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"Google Chrome",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36",appVersion:"Mac OS X 10.14.0",platform:"Mac OS X"},{name:"Mozilla Firefox",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0",appVersion:"Mac OS X 10.14.0",platform:"Mac OS X"},{name:"Microsoft Edge",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393",appVersion:"Windows 10 0.0.0",platform:"Windows 10"},{name:"iPhone",value:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",appVersion:"iOS 10.3.1",platform:"iOS"},{name:"iPad",value:"Mozilla/5.0 (iPad; CPU OS 8_4_1 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) Version/8.0 Mobile/12H321 Safari/600.1.4",appVersion:"iOS 8.4.1",platform:"iOS"},{name:"Samsung Phone",value:"Mozilla/5.0 (Linux; Android 6.0.1; SAMSUNG SM-G570Y Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/4.0 Chrome/44.0.2403.133 Mobile Safari/537.36",appVersion:"Android 6.0.1",platform:"Android"},{name:"Google Pixel",value:"Mozilla/5.0 (Linux; Android 7.1.1; Pixel Build/NOF27B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.132 Mobile Safari/537.36",appVersion:"Android 8.0.0",platform:"Android"}]},3094:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEVICE_TYPES=void 0,(r=t.DEVICE_TYPES||(t.DEVICE_TYPES={})).DESKTOP="DESKTOP",r.MOBILE="MOBILE"},6096:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultDeviceFromDeviceType=t.generateCrusherExtensionUrl=void 0;var s=a(r(1100)),h=i(r(1023)),u=r(3094);t.generateCrusherExtensionUrl=function(e,t,r,n){void 0===n&&(n={});var o=new URL(t),i=s.default.find((function(e){return e.id===r}));o.searchParams.set("__crusherAgent__",encodeURI(i.userAgent));var a=Object.keys(n).reduce((function(e,t,r){return"&"+t+"="+n[t]}),"");return h.join(e,"test_recorder.html")+"?url="+o+"&device="+r+a},t.getDefaultDeviceFromDeviceType=function(e){return e===u.DEVICE_TYPES.DESKTOP?s.default[6]:e===u.DEVICE_TYPES.MOBILE?s.default[5]:null}},915:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToBackendPath=t.getQueryStringParams=t.addHttpToURLIfNotThere=t.origins=t.isOfCrusherExtension=t.isLocal=void 0;var o=n(r(4846)),i=r(8958),a=function(e){return String(e).replace(/^\/|\/$/g,"")};t.isLocal=function(e){return String(e).startsWith("chrome://")||String(e).startsWith("chrome-extension://")},t.isOfCrusherExtension=function(e){return Boolean(e)&&a(e).startsWith(a(chrome.runtime.getURL("/")))},t.origins=function(e){var t=o.default(e).hostname;return["https://"+t,"http://"+t]},t.addHttpToURLIfNotThere=function(e){var t=new RegExp(/^https?\:\/\/[\w\._-]+?\.[\w_-]+/i);return e.match(t)?e:"http://"+e},t.getQueryStringParams=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},t.resolveToBackendPath=function(e,t){void 0===t&&(t=null);var r=t||"http://localhost:3000/server";return i.resolve(r,e)}},1023:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",o=0,i=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var h=n.lastIndexOf("/");if(h!==n.length-1){-1===h?(n="",o=0):o=(n=n.slice(0,h)).length-1-n.lastIndexOf("/"),i=s,a=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&o&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var o=arguments[r];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,a=i-o,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var h=r.length-s,u=a<h?a:h,l=-1,c=0;c<=u;++c){if(c===u){if(h>u){if(47===r.charCodeAt(s+c))return r.slice(s+c+1);if(0===c)return r.slice(s+c)}else a>u&&(47===e.charCodeAt(o+c)?l=c:0===c&&(l=0));break}var f=e.charCodeAt(o+c);if(f!==r.charCodeAt(s+c))break;47===f&&(l=c)}var p="";for(c=o+l+1;c<=i;++c)c!==i&&47!==e.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(s+l):(s+=l,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,h=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){o=n+1;break}}else-1===h&&(a=!1,h=n+1),s>=0&&(u===r.charCodeAt(s)?-1==--s&&(i=n):(s=-1,i=h))}return o===i?i=h:-1===i&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var r=-1,n=0,o=-1,i=!0,a=0,s=e.length-1;s>=0;--s){var h=e.charCodeAt(s);if(47!==h)-1===o&&(i=!1,o=s+1),46===h?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=s+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?"":e.slice(r,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,o=e.charCodeAt(0),i=47===o;i?(r.root="/",n=1):n=0;for(var a=-1,s=0,h=-1,u=!0,l=e.length-1,c=0;l>=n;--l)if(47!==(o=e.charCodeAt(l)))-1===h&&(u=!1,h=l+1),46===o?-1===a?a=l:1!==c&&(c=1):-1!==a&&(c=-1);else if(!u){s=l+1;break}return-1===a||-1===h||0===c||1===c&&a===h-1&&a===s+1?-1!==h&&(r.base=r.name=0===s&&i?e.slice(1,h):e.slice(s,h)):(0===s&&i?(r.name=e.slice(1,a),r.base=e.slice(1,h)):(r.name=e.slice(s,a),r.base=e.slice(s,h)),r.ext=e.slice(a,h)),s>0?r.dir=e.slice(0,s-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},2808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var h=e.length;s>0&&h>s&&(h=s);for(var u=0;u<h;++u){var l,c,f,p,d=e[u].replace(a,"%20"),m=d.indexOf(n);m>=0?(l=d.substr(0,m),c=d.substr(m+1)):(l=d,c=""),f=decodeURIComponent(l),p=decodeURIComponent(c),t(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i}},1368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},6642:(e,t,r)=>{"use strict";t.decode=t.parse=r(2808),t.encode=t.stringify=r(1368)},7375:(e,t)=>{"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=o(i),n=o(n),null===i||null===n)continue;a.push(i+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,o={};t=r.exec(e);){var i=n(t[1]),a=n(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}},7245:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},4846:(e,t,r)=>{"use strict";var n=r(7245),o=r(7375),i=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,a=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function h(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var t,n=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||n);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===a)for(t in o=new p(e,{}),l)delete o[t];else if("object"===a){for(t in e)t in l||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(e){e=h(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!(t[2]&&t[2].length>=2),rest:t[2]&&1===t[2].length?"/"+t[3]:t[3]}}function p(e,t,r){if(e=h(e),!(this instanceof p))return new p(e,t,r);var i,a,s,l,d,m,v=u.slice(),g=typeof t,b=this,y=0;for("object"!==g&&"string"!==g&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=c(t),i=!(a=f(e||"")).protocol&&!a.slashes,b.slashes=a.slashes||i&&t.slashes,b.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);y<v.length;y++)"function"!=typeof(l=v[y])?(s=l[0],m=l[1],s!=s?b[m]=e:"string"==typeof s?~(d=e.indexOf(s))&&("number"==typeof l[2]?(b[m]=e.slice(0,d),e=e.slice(d+l[2])):(b[m]=e.slice(d),e=e.slice(0,d))):(d=s.exec(e))&&(b[m]=d[1],e=e.slice(0,d.index)),b[m]=b[m]||i&&l[3]&&t[m]||"",l[4]&&(b[m]=b[m].toLowerCase())):e=l(e);r&&(b.query=r(b.query)),i&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],i=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(b.pathname,t.pathname)),"/"!==b.pathname.charAt(0)&&b.hostname&&(b.pathname="/"+b.pathname),n(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(l=b.auth.split(":"),b.username=l[0]||"",b.password=l[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(e,t,r){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,n(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;default:i[e]=t}for(var s=0;s<u.length;s++){var h=u[s];h[4]&&(i[h[1]]=i[h[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}},p.extractProtocol=f,p.location=c,p.trimLeft=h,p.qs=o,e.exports=p},1004:function(e,t,r){var n;e=r.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var a,s=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function m(e){throw RangeError(f[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function g(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(c,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function y(e){return v(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=h)e=p(e/35);return p(n+36*e/(e+38))}function x(e){var t,r,n,o,i,a,u,l,c,f,d,v=[],g=e.length,b=0,w=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),v.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(i=b,a=1,u=h;o>=g&&m("invalid-input"),((l=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:h)>=h||l>p((s-b)/a))&&m("overflow"),b+=l*a,!(l<(c=u<=x?1:u>=x+26?26:u-x));u+=h)a>p(s/(f=h-c))&&m("overflow"),a*=f;x=A(b-i,t=v.length+1,0==i),p(b/t)>s-w&&m("overflow"),w+=p(b/t),b%=t,v.splice(b++,0,w)}return y(v)}function C(e){var t,r,n,o,i,a,u,l,c,f,v,g,y,x,C,_=[];for(g=(e=b(e)).length,t=128,r=0,i=72,a=0;a<g;++a)(v=e[a])<128&&_.push(d(v));for(n=o=_.length,o&&_.push("-");n<g;){for(u=s,a=0;a<g;++a)(v=e[a])>=t&&v<u&&(u=v);for(u-t>p((s-r)/(y=n+1))&&m("overflow"),r+=(u-t)*y,t=u,a=0;a<g;++a)if((v=e[a])<t&&++r>s&&m("overflow"),v==t){for(l=r,c=h;!(l<(f=c<=i?1:c>=i+26?26:c-i));c+=h)C=l-f,x=h-f,_.push(d(w(f+C%x,0))),l=p(C/x);_.push(d(w(l,0))),i=A(r,y,n==o),r=0,++n}++r,++t}return _.join("")}a={version:"1.3.2",ucs2:{decode:b,encode:y},decode:x,encode:C,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return g(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},8958:(e,t,r)=>{var n=r(1004);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=g,t.resolve=function(e,t){return g(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},t.format=function(e){return b(e)&&(e=g(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(s),u=["%","/","?",";","#"].concat(h),l=["/","?","#"],c=/^[a-z0-9A-Z_-]{0,63}$/,f=/^([a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(6642);function g(e,t,r){if(e&&y(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}function b(e){return"string"==typeof e}function y(e){return"object"==typeof e&&null!==e}function w(e){return null===e}o.prototype.parse=function(e,t,r){if(!b(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e;o=o.trim();var a=i.exec(o);if(a){var s=(a=a[0]).toLowerCase();this.protocol=s,o=o.substr(a.length)}if(r||a||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===o.substr(0,2);!g||a&&d[a]||(o=o.substr(2),this.slashes=!0)}if(!d[a]&&(g||a&&!m[a])){for(var y,w,A=-1,x=0;x<l.length;x++)-1!==(C=o.indexOf(l[x]))&&(-1===A||C<A)&&(A=C);for(-1!==(w=-1===A?o.lastIndexOf("@"):o.lastIndexOf("@",A))&&(y=o.slice(0,w),o=o.slice(w+1),this.auth=decodeURIComponent(y)),A=-1,x=0;x<u.length;x++){var C;-1!==(C=o.indexOf(u[x]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=o.length),this.host=o.slice(0,A),o=o.slice(A),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var S=this.hostname.split(/\./),O=(x=0,S.length);x<O;x++){var E=S[x];if(E&&!E.match(c)){for(var P="",k=0,M=E.length;k<M;k++)E.charCodeAt(k)>127?P+="x":P+=E[k];if(!P.match(c)){var j=S.slice(0,x),I=S.slice(x+1),R=E.match(f);R&&(j.push(R[1]),I.unshift(R[2])),I.length&&(o="/"+I.join(".")+o),this.hostname=j.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!_){var L=this.hostname.split("."),T=[];for(x=0;x<L.length;++x){var U=L[x];T.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+n.encode(U):U)}this.hostname=T.join(".")}var D=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+D,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!p[s])for(x=0,O=h.length;x<O;x++){var F=h[x],B=encodeURIComponent(F);B===F&&(B=escape(F)),o=o.split(F).join(B)}var H=o.indexOf("#");-1!==H&&(this.hash=o.substr(H),o=o.slice(0,H));var N=o.indexOf("?");return-1!==N?(this.search=o.substr(N),this.query=o.substr(N+1),t&&(this.query=v.parse(this.query)),o=o.slice(0,N)):t&&(this.search="",this.query={}),o&&(this.pathname=o),m[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(D=this.pathname||"",U=this.search||"",this.path=D+U),this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&y(this.query)&&Object.keys(this.query).length&&(i=v.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(b(e)){var t=new o;t.parse(e,!1,!0),e=t}var r=new o;if(Object.keys(this).forEach((function(e){r[e]=this[e]}),this),r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(r[t]=e[t])})),m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol])return Object.keys(e).forEach((function(t){r[t]=e[t]})),r.href=r.format(),r;if(r.protocol=e.protocol,e.host||d[e.protocol])r.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var i=r.pathname||"",a=r.search||"";r.path=i+a}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),h=e.host||e.pathname&&"/"===e.pathname.charAt(0),u=h||s||r.host&&e.pathname,l=u,c=r.pathname&&r.pathname.split("/")||[],f=(n=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(f&&(r.hostname="",r.port=null,r.host&&(""===c[0]?c[0]=r.host:c.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=null),u=u&&(""===n[0]||""===c[0])),h)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,c=n;else if(n.length)c||(c=[]),c.pop(),c=c.concat(n),r.search=e.search,r.query=e.query;else if(null!=e.search)return f&&(r.hostname=r.host=c.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),r.search=e.search,r.query=e.query,w(r.pathname)&&w(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!c.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var p=c.slice(-1)[0],v=(r.host||e.host)&&("."===p||".."===p)||""===p,g=0,y=c.length;y>=0;y--)"."==(p=c[y])?c.splice(y,1):".."===p?(c.splice(y,1),g++):g&&(c.splice(y,1),g--);if(!u&&!l)for(;g--;g)c.unshift("..");!u||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),v&&"/"!==c.join("/").substr(-1)&&c.push("");var A,x=""===c[0]||c[0]&&"/"===c[0].charAt(0);return f&&(r.hostname=r.host=x?"":c.length?c.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),(u=u||r.host&&c.length)&&!x&&c.unshift(""),c.length?r.pathname=c.join("/"):(r.pathname=null,r.path=null),w(r.pathname)&&w(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(8541)})();
//# sourceMappingURL=background.js.map